/* General TOC container */
#table-of-contents-content {
    padding-left: 0;
}

/* Each TOC item */
#table-of-contents-content .toc-item {
    list-style: none;
    padding: 2px 0;
}

/* Flex container for anchor and toggle */
#table-of-contents-content .toc-row {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
}

/* Anchor link styling */
#table-of-contents-content .toc-row a {
    flex-grow: 1; /* Allow anchor to take available space */
    text-decoration: none;
    word-wrap: break-word;
    white-space: normal;
    /* Default state - gray text */
    color: rgb(107, 114, 128); /* text-gray-500 */
}

/* Dark mode default state */
@media (prefers-color-scheme: dark) {
    #table-of-contents-content .toc-row a {
        color: rgb(156, 163, 175); /* text-gray-400 */
    }
}

/* Hover state for parent items */
#table-of-contents-content .toc-row a:hover {
    color: rgb(17, 24, 39); /* text-gray-900 */
}

/* Dark mode hover state */
@media (prefers-color-scheme: dark) {
    #table-of-contents-content .toc-row a:hover {
        color: rgb(209, 213, 219); /* text-gray-300 */
    }
}

/* Active/selected state for parent items */
#table-of-contents-content .toc-item.border-primary .toc-row a,
#table-of-contents-content .toc-item[class*="border-primary"] .toc-row a {
    color: var(--primary-color, rgb(59, 130, 246)); /* text-primary */
}

/* Dark mode active/selected state */
@media (prefers-color-scheme: dark) {
    #table-of-contents-content .toc-item.border-primary .toc-row a,
    #table-of-contents-content .toc-item[class*="border-primary"] .toc-row a {
        color: var(--primary-light-color, rgb(96, 165, 250)); /* text-primary-light */
    }
}

/* Toggle button styling */
.toc-toggle {
    background: transparent;
    border: none;
    cursor: pointer;
    color: inherit;
    padding: 0 0.5rem;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0; /* Prevent toggle from shrinking */
}

.toc-toggle:focus {
    outline: none;
    box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.4);
    border-radius: 4px;
}

/* Chevron icon transition */
.toc-toggle svg {
    transition: transform 150ms ease-in-out;
}

/* Rotated state for chevron when collapsed */
.toc-toggle.rotated svg {
    transform: rotate(-90deg);
}
