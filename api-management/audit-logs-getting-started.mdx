---
title: "Audit Logs Getting Started Guide"
description: "A comprehensive guide to setting up, configuring, and using Audit Logs in Tyk Dashboard for compliance and security monitoring."
keywords: "Audit Logs, Tyk Dashboard, compliance, security, logging, monitoring, RBAC"
sidebarTitle: "Audit Logs Guide"
---

## Introduction

Audit logs are essential for maintaining security, compliance, and operational visibility in your API management platform. This guide walks you through setting up and using Tyk Dashboard's audit logging feature from scratch.

### What You'll Learn

By the end of this guide, you will be able to:
- Understand what audit logs capture and why they matter
- Enable audit logging in your Tyk Dashboard
- Choose the right storage option for your needs
- Configure audit log format and detail level
- Access and retrieve audit logs via the Dashboard UI and API
- Set up proper user permissions for audit log access
- Implement best practices for audit log management

### Prerequisites

Before you begin, ensure you have:
- **Tyk Dashboard v5.7.0 or later** (required for database storage and API access)
- **Admin access** to your Tyk Dashboard
- **Database configured** (MongoDB or PostgreSQL) if using database storage
- For **Tyk Cloud** users: Contact your account manager to enable the audit logging feature

## What Are Audit Logs?

Audit logs capture detailed records of all requests made to endpoints under the `/api` route in your Tyk Dashboard. These logs provide a comprehensive trail of administrative activities, which is crucial for:

- **Security monitoring**: Track who accessed what and when
- **Compliance**: Meet regulatory requirements (SOC 2, GDPR, HIPAA, etc.)
- **Troubleshooting**: Investigate issues by reviewing historical actions
- **Change management**: Understand what configurations were modified

### What Gets Logged

Each audit log entry captures:

| Field | Description |
| :---- | :---- |
| `req_id` | Unique request ID |
| `org_id` | Organization ID |
| `date` | Date in RFC1123 format |
| `timestamp` | UNIX timestamp |
| `ip` | IP address the request originated from |
| `user` | Dashboard user who performed the request |
| `action` | Description of the action performed (e.g., "Update User") |
| `method` | HTTP request method |
| `url` | URL of the request |
| `status` | HTTP response status of the request |
| `diff` | Diff of changed fields (for PUT requests only) |
| `request_dump` | HTTP request copy (when detailed recording is enabled) |
| `response_dump` | HTTP response copy (when detailed recording is enabled) |

## Enabling Audit Logs

<Tabs>
<Tab title="Tyk Self-Managed">

### Step 1: Configure Audit Logging

Add the `audit` section to your Tyk Dashboard configuration file (`tyk_analytics.conf`):

```json
{
  "audit": {
    "enabled": true,
    "format": "json",
    "path": "/var/log/tyk/audit.log",
    "detailed_recording": false,
    "store_type": "file"
  }
}
```

Alternatively, use environment variables:

```bash
TYK_DB_AUDIT_ENABLED=true
TYK_DB_AUDIT_FORMAT=json
TYK_DB_AUDIT_PATH=/var/log/tyk/audit.log
TYK_DB_AUDIT_DETAILEDRECORDING=false
TYK_DB_AUDIT_STORETYPE=file
```

### Step 2: Choose Your Storage Type

You have two options for storing audit logs:

#### Option A: File Storage (Default)

Store logs to a file on the local filesystem:

```json
{
  "audit": {
    "enabled": true,
    "format": "json",
    "path": "/var/log/tyk/audit.log",
    "store_type": "file"
  }
}
```

<Note>
If hosting Tyk Dashboard within a Kubernetes cluster, ensure the configured log file path is valid and writable by the container.
</Note>

#### Option B: Database Storage (Recommended for v5.7.0+)

Store logs directly in your main database (MongoDB or PostgreSQL):

```json
{
  "audit": {
    "enabled": true,
    "store_type": "db",
    "detailed_recording": false
  }
}
```

Database storage enables:
- Access via the Dashboard UI
- API-based log retrieval
- Centralized log management
- Easier integration with monitoring tools

### Step 3: Restart Tyk Dashboard

After updating the configuration, restart your Tyk Dashboard service:

```bash
# For systemd
sudo systemctl restart tyk-dashboard

# For Docker
docker restart tyk-dashboard

# For Kubernetes (Helm)
helm upgrade tyk-stack tyk-helm/tyk-stack -n tyk -f values.yaml
```

</Tab>

<Tab title="Tyk Cloud">

### Step 1: Contact Your Account Manager

Audit logging must be enabled at the subscription level. Reach out to your Tyk account manager to add this feature to your plan.

### Step 2: Enable via Tyk Cloud Console

Once the feature is available in your subscription:

1. Navigate to your **Control Plane deployment** in the Tyk Cloud console
2. Select **Edit** from the deployment options
3. Enable the **Audit Logging** option
4. Save and **redeploy** your Control Plane

<Note>
The audit log feature is available for Control Plane versions v5.7.0 or later.
</Note>

### Storage and Limits

Tyk Cloud enforces audit log storage caps based on your subscription:

- **Storage Limits**: A size cap is applied based on your subscription plan
- **Automatic Cleanup**: When the storage limit is reached, the oldest logs are automatically removed to make space for new entries

</Tab>

<Tab title="Kubernetes (Helm)">

### Configure Audit Logs in values.yaml

Add the following to your Helm `values.yaml` file:

```yaml
tyk-dashboard:
  dashboard:
    auditLogs:
      enabled: true
      type: db           # Options: 'db' or 'file'
      format: json       # Options: 'json' or 'text'
      path: ""           # Required only for file storage
      enableDetailedRecording: false
```

### Apply the Configuration

```bash
helm upgrade tyk-stack tyk-helm/tyk-stack -n tyk -f values.yaml
```

### Configuration Options

| Parameter | Description | Default |
| :-------- | :---------- | :------ |
| `auditLogs.enabled` | Enables or disables audit logging | `false` |
| `auditLogs.type` | Storage type (`db` or `file`) | `file` |
| `auditLogs.format` | Log format (`json` or `text`) | `text` |
| `auditLogs.path` | Path to audit log file (file storage only) | `""` |
| `auditLogs.enableDetailedRecording` | Include full HTTP request/response | `false` |

</Tab>
</Tabs>

## Configuring Log Format

### JSON Format

The recommended format for programmatic processing:

```json
{
  "audit": {
    "enabled": true,
    "format": "json",
    "store_type": "db"
  }
}
```

Example JSON log entry:

```json
{
  "req_id": "abc123",
  "org_id": "5e9d9544a1dcd60001d0ed20",
  "date": "Mon, 20 Jan 2025 14:30:00 GMT",
  "timestamp": 1737383400,
  "ip": "192.168.1.100",
  "user": "admin@example.com",
  "action": "Update API",
  "method": "PUT",
  "url": "/api/apis/petstore-api",
  "status": 200,
  "diff": "{\"name\": {\"old\": \"Petstore\", \"new\": \"Petstore API\"}}"
}
```

### Text Format

Human-readable format for simple log viewing:

```json
{
  "audit": {
    "enabled": true,
    "format": "text",
    "path": "/var/log/tyk/audit.log",
    "store_type": "file"
  }
}
```

The text format outputs all fields as plain text, each on a new line.

### Enabling Detailed Recording

For compliance scenarios requiring complete request/response capture:

```json
{
  "audit": {
    "enabled": true,
    "format": "json",
    "store_type": "db",
    "detailed_recording": true
  }
}
```

<Warning>
Detailed recording significantly increases storage requirements. Use only when required for compliance. Note that request bodies are not captured, but headers are included.
</Warning>

## Setting Up User Permissions

To allow users to access audit logs, you must grant them the appropriate RBAC permissions.

### Via Dashboard UI

1. Navigate to **Users** in your Tyk Dashboard
2. Select the user you want to grant access
3. In the **Permissions** section, enable **Audit Logs** with `read` access
4. Save the user

### Via Dashboard API

Include `audit_logs` in the user's permissions object:

```json
{
  "user_permissions": {
    "IsAdmin": "false",
    "analytics": "read",
    "apis": "write",
    "audit_logs": "read"
  }
}
```

<Note>
Only `read` access is available for audit logs. Write or delete operations are not permitted to maintain audit integrity.
</Note>

## Accessing Audit Logs

### Via Dashboard UI (v5.7.0+)

When using database storage, audit logs can be viewed directly in the Tyk Dashboard:

1. Log in to your Tyk Dashboard
2. Navigate to **System Management** > **Audit Logs**
3. Use filters to search by:
   - Date range
   - User
   - Action type
   - IP address
   - HTTP status

### Via Dashboard API

Retrieve audit logs programmatically using the `/api/audit-logs` endpoint:

```bash
curl -X GET "https://your-dashboard.com/api/audit-logs" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json"
```

#### Filtering Options

| Parameter | Description | Example |
| :-------- | :---------- | :------ |
| `start` | Start date (Unix timestamp) | `1737300000` |
| `end` | End date (Unix timestamp) | `1737386400` |
| `user` | Filter by username | `admin@example.com` |
| `action` | Filter by action | `Update API` |
| `ip` | Filter by IP address | `192.168.1.100` |
| `status` | Filter by HTTP status | `200` |
| `page` | Page number for pagination | `1` |

Example with filters:

```bash
curl -X GET "https://your-dashboard.com/api/audit-logs?start=1737300000&end=1737386400&user=admin@example.com&page=1" \
  -H "Authorization: Bearer YOUR_API_KEY"
```

For complete API specifications, see the [Dashboard API documentation](/tyk-dashboard-api).

### Via Log Files

If using file storage, access logs directly from the configured path:

```bash
# View recent entries
tail -f /var/log/tyk/audit.log

# Search for specific user
grep "admin@example.com" /var/log/tyk/audit.log

# Parse JSON logs with jq
cat /var/log/tyk/audit.log | jq '.action'
```

## Best Practices

### Storage Planning

When using database storage, plan for growth:

- **Average record size**: 1,350 - 1,450 bytes per entry
- **Daily estimate**: 100,000 operations/day = ~135-145 MB daily
- **Monthly growth**: Plan storage based on your operation volume

### Retention Policies

Implement a retention strategy based on your requirements:

1. **Define retention period**: 30, 90, or 180 days based on compliance needs
2. **Archive old logs**: Move older logs to external storage (S3, data warehouse)
3. **Monitor growth**: Track storage size and adjust retention proactively

### Security Recommendations

- **Restrict access**: Only grant audit log access to security and compliance personnel
- **Protect log files**: If using file storage, ensure appropriate file permissions
- **Monitor access**: Consider logging access to audit logs themselves
- **Secure transmission**: Use HTTPS when accessing audit logs via API

### Integration with SIEM Tools

For enterprise deployments, consider integrating audit logs with your SIEM solution:

1. **File-based**: Configure log shipping (Filebeat, Fluentd) to forward logs
2. **API-based**: Set up scheduled pulls from the audit log API
3. **Database-based**: Connect your SIEM directly to the audit log table

## Troubleshooting

### Audit Logs Not Appearing

1. **Check configuration**: Verify `audit.enabled` is set to `true`
2. **Verify permissions**: Ensure the Dashboard has write access to the log path (file storage)
3. **Check Dashboard version**: Database storage requires v5.7.0+
4. **Restart Dashboard**: Configuration changes require a restart

### Permission Denied Errors

1. **Verify RBAC**: Ensure your user has `audit_logs: read` permission
2. **Check API key**: Confirm you're using a valid Dashboard API key
3. **Contact admin**: Request audit log access from your system administrator

### High Storage Usage

1. **Enable compression**: Use log rotation with compression for file storage
2. **Reduce retention**: Implement stricter retention policies
3. **Disable detailed recording**: Set `detailed_recording` to `false`
4. **Archive old logs**: Move historical logs to cheaper storage

## Next Steps

- Learn about [User Management](/api-management/user-management) for advanced RBAC configuration
- Explore [Dashboard Configuration](/api-management/dashboard-configuration) for other security settings
- Review the [Dashboard API documentation](/tyk-dashboard-api) for complete API specifications
- For Tyk Cloud users, see [Audit Logs in Tyk Cloud](/api-management/cloud/audit-logs)
