---
title: "Enable and View Audit Logs in Tyk Dashboard"
description: "Learn how to enable audit logging in Tyk Dashboard using database storage and view audit logs through the Dashboard UI."
keywords: "Audit Logs, Tyk Dashboard, database storage, compliance, security, self-managed"
sidebarTitle: "Enable Audit Logs"
---

## Availability

| Component | Version | Editions |
| :-------- | :------ | :------- |
| Tyk Dashboard | Available since [v5.7.0](/developer-support/release-notes/dashboard#570-release-notes) | Enterprise |

## Prerequisites

1. **Dashboard License**: [Contact our team](https://tyk.io/contact/) to obtain a license or get a self-managed trial license by completing the registration on our [website](https://tyk.io/self-managed-trial/).
2. **Working Tyk Environment**: You need access to a running Tyk instance. For setup instructions using Docker, please refer to the [Tyk Getting Started Guide](/getting-started/quick-start).
3. **Admin Access**: You need admin permissions to configure audit logging and access audit log data.

## What We Will Do

In this guide, we will:
1. Enable audit logs in Tyk Dashboard using the database storage option
2. View the audit logs through the Dashboard UI
3. Learn how to access audit logs via the API

<Note>
This guide is focused on **self-managed / on-premise** installations. For Tyk Cloud deployments, refer to the [Tyk Cloud Audit Logs guide](/api-management/cloud/audit-logs).
</Note>

## Instructions

### 1. Configure Audit Logging with Database Storage

To enable audit logging with database storage, you need to update your Tyk Dashboard configuration. Database storage is recommended as it enables viewing logs directly in the Dashboard UI.

<Tabs>
<Tab title="Configuration File">

Add the following `audit` section to your `tyk_analytics.conf` file:

```json
{
  "audit": {
    "enabled": true,
    "format": "json",
    "store_type": "db",
    "detailed_recording": false
  }
}
```

</Tab>
<Tab title="Environment Variables">

Set the following environment variables:

```bash
TYK_DB_AUDIT_ENABLED=true
TYK_DB_AUDIT_FORMAT=json
TYK_DB_AUDIT_STORETYPE=db
TYK_DB_AUDIT_DETAILEDRECORDING=false
```

</Tab>
<Tab title="Helm Chart">

Add the following to your Helm `values.yaml` file:

```yaml
tyk-dashboard:
  dashboard:
    auditLogs:
      enabled: true
      type: db
      format: json
      enableDetailedRecording: false
```

Then apply the configuration:

```bash
helm upgrade tyk-stack tyk-helm/tyk-stack -n tyk -f values.yaml
```

</Tab>
</Tabs>

#### Configuration Options

| Parameter | Description | Default |
| :-------- | :---------- | :------ |
| `audit.enabled` | Enables or disables audit logging | `false` |
| `audit.format` | Log format: `json` or `text` | `text` |
| `audit.store_type` | Storage type: `db` or `file` | `file` |
| `audit.detailed_recording` | Include full HTTP request/response headers | `false` |

<Warning>
Enabling `detailed_recording` significantly increases storage requirements. Only enable this when required for compliance purposes.
</Warning>

### 2. Restart Tyk Dashboard

After updating the configuration, restart your Tyk Dashboard service for the changes to take effect:

```bash
# For systemd
sudo systemctl restart tyk-dashboard

# For Docker
docker restart tyk-dashboard

# For Kubernetes
kubectl rollout restart deployment tyk-dashboard -n tyk
```

### 3. Grant User Access to Audit Logs

Users need the appropriate RBAC permissions to view audit logs.

#### Via Dashboard UI

1. Navigate to **Users** in your Tyk Dashboard
2. Select the user you want to grant access
3. In the **Permissions** section, enable **Audit Logs** with `read` access
4. Save the user

<!-- [Image placeholder: Screenshot showing the user permissions panel with Audit Logs permission highlighted] -->

#### Via Dashboard API

Include `audit_logs` in the user's permissions object when creating or updating a user:

```json
{
  "user_permissions": {
    "IsAdmin": "false",
    "analytics": "read",
    "apis": "write",
    "audit_logs": "read"
  }
}
```

<Note>
Only `read` access is available for audit logs. Write or delete operations are not permitted to maintain audit integrity.
</Note>

### 4. View Audit Logs in Dashboard UI

Once audit logging is enabled with database storage, you can view logs directly in the Dashboard:

1. Log in to your Tyk Dashboard
2. Navigate to **System Management** > **Audit Logs**
3. Use the available filters to search and filter logs:
   - **Date range**: Filter logs by time period
   - **User**: Filter by the user who performed the action
   - **Action type**: Filter by specific actions (e.g., "Update API", "Create Policy")
   - **IP address**: Filter by the originating IP address
   - **HTTP status**: Filter by response status codes

<!-- [Image placeholder: Screenshot showing the Audit Logs page in Dashboard with filter options] -->

### 5. Access Audit Logs via API

You can also retrieve audit logs programmatically using the Dashboard API:

```bash
curl -X GET "https://your-dashboard.com/api/audit-logs" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json"
```

#### Filtering Options

| Parameter | Description | Example |
| :-------- | :---------- | :------ |
| `start` | Start date (Unix timestamp) | `1737300000` |
| `end` | End date (Unix timestamp) | `1737386400` |
| `user` | Filter by username | `admin@example.com` |
| `action` | Filter by action | `Update API` |
| `ip` | Filter by IP address | `192.168.1.100` |
| `status` | Filter by HTTP status | `200` |
| `page` | Page number for pagination | `1` |

Example with filters:

```bash
curl -X GET "https://your-dashboard.com/api/audit-logs?start=1737300000&end=1737386400&user=admin@example.com" \
  -H "Authorization: Bearer YOUR_API_KEY"
```

### Example Audit Log Entry

When using JSON format, each audit log entry contains detailed information about the action:

```json
{
  "req_id": "abc123",
  "org_id": "5e9d9544a1dcd60001d0ed20",
  "date": "Mon, 20 Jan 2025 14:30:00 GMT",
  "timestamp": 1737383400,
  "ip": "192.168.1.100",
  "user": "admin@example.com",
  "action": "Update API",
  "method": "PUT",
  "url": "/api/apis/petstore-api",
  "status": 200,
  "diff": "{\"name\": {\"old\": \"Petstore\", \"new\": \"Petstore API\"}}"
}
```

## Troubleshooting

### Audit Logs Not Appearing

1. **Verify configuration**: Ensure `audit.enabled` is set to `true` in your configuration
2. **Check storage type**: Confirm `audit.store_type` is set to `db` for UI access
3. **Restart Dashboard**: Configuration changes require a restart to take effect
4. **Check version**: Database storage requires Tyk Dashboard v5.7.0 or later

### Permission Denied When Accessing Audit Logs

1. **Verify user permissions**: Ensure your user has `audit_logs: read` permission in RBAC settings
2. **Check API key**: Confirm you're using a valid Dashboard API key with appropriate permissions
3. **Admin access**: Contact your system administrator to request audit log access

### High Storage Usage

1. **Review retention**: Implement a retention policy to archive or delete old audit logs
2. **Disable detailed recording**: Set `detailed_recording` to `false` to reduce storage requirements
3. **Monitor growth**: Average record size is 1,350-1,450 bytes per entry; plan storage accordingly

## Next Steps

- Review the comprehensive [Audit Logs Getting Started Guide](/api-management/audit-logs-getting-started) for advanced configuration options
- Learn about [User Management](/api-management/user-management) for RBAC configuration
- Explore [Dashboard Configuration](/api-management/dashboard-configuration) for additional security settings
